(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{231:function(t,e,n){var content=n(282);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("4d8633d8",content,!1,{sourceMap:!1})},232:function(t,e,n){var content=n(284);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("467b9ba5",content,!1,{sourceMap:!1})},233:function(t,e,n){var content=n(286);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("0658f3a6",content,!1,{sourceMap:!1})},234:function(t,e,n){var content=n(288);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("af7729d4",content,!1,{sourceMap:!1})},235:function(t,e,n){var content=n(290);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("25a26698",content,!1,{sourceMap:!1})},236:function(t,e,n){var content=n(295);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("2a216020",content,!1,{sourceMap:!1})},237:function(t,e,n){var content=n(297);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("05996908",content,!1,{sourceMap:!1})},238:function(t,e,n){var content=n(299);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("02d389c2",content,!1,{sourceMap:!1})},239:function(t,e,n){var content=n(301);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("6093153a",content,!1,{sourceMap:!1})},240:function(t,e,n){var content=n(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("0161225b",content,!1,{sourceMap:!1})},241:function(t,e,n){var content=n(305);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("2751ae17",content,!1,{sourceMap:!1})},242:function(t,e,n){var content=n(307);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("3471494a",content,!1,{sourceMap:!1})},243:function(t,e,n){var content=n(309);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("0b253d97",content,!1,{sourceMap:!1})},244:function(t,e,n){var content=n(311);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("eafda4be",content,!1,{sourceMap:!1})},245:function(t,e,n){var content=n(314);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("6dc4b7b4",content,!1,{sourceMap:!1})},246:function(t,e,n){var content=n(316);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("081bb0f0",content,!1,{sourceMap:!1})},247:function(t,e,n){var content=n(320);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("12fdf048",content,!1,{sourceMap:!1})},248:function(t,e,n){var content=n(322);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("563fa290",content,!1,{sourceMap:!1})},249:function(t,e,n){var content=n(324);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("523d39ac",content,!1,{sourceMap:!1})},258:function(t){t.exports=JSON.parse('{"day":"day","week":"week","month":"month","keyWord":"Key Word","stream":"Stream","filterEventsTitle":"Filter By:","programme":"Programme","agendaItem":"Agenda Item"}')},259:function(t){t.exports=JSON.parse('{"day":"journée","week":"la semaine","month":"mois"}')},281:function(t,e,n){"use strict";var o=n(231),r=n.n(o);e.default=r.a},282:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".main_2yfao{white-space:normal;border:1px solid grey;border-top:5px solid grey;overflow:hidden;padding:3px;position:relative;height:98%;min-height:20px;min-width:10%;flex:1 0 20%}.past_23MUV{opacity:.5}.mainTitle_1GygV{font-weight:700;font-size:.7em;line-height:1.2em}.footer_2rqX5{position:absolute;bottom:0;left:0;right:0;font-size:.8em;line-height:1.2em;padding:0 3px;text-align:right}",""]),e.locals={main:"main_2yfao",past:"past_23MUV",mainTitle:"mainTitle_1GygV",footer:"footer_2rqX5"}},283:function(t,e,n){"use strict";var o=n(232);n.n(o).a},284:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".fader-enter-active,.fader-leave-active{transition:opacity .5s}.fader-enter,.fader-leave-to{opacity:0}",""])},285:function(t,e,n){"use strict";var o=n(233),r=n.n(o);e.default=r.a},286:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".fader-enter_HfumG{opacity:0}.inner_2gxAy{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.weekend_rXBIM{color:red}.today_2HPL_{color:rgba(0,0,255,.8)}.main_1LPzZ{position:relative;height:14.2857%;padding-left:10%;border-bottom:1px solid #eee;overflow:hidden}.mainChildCont_nRP6i{height:100%;width:100%;display:flex;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth}.mainChild_DDeFN{display:inline-block;width:19.8%;height:95%;margin:.1%}.hasMoreContainer_37Ljt{position:relative;height:100%}.hasMoreInner_3NWF8{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.hasMore_3XX6Q{left:10%}.hasMore_3XX6Q,.hasMoreRight_2_AJO{position:absolute;top:0;bottom:0;width:3%;height:100%;float:left;border-bottom:1px solid #eee;border-right:1px solid #eee;background-color:hsla(0,0%,100%,.7);z-index:10;cursor:pointer}.hasMoreRight_2_AJO{right:0}.mainTitleChild_98egW{position:absolute;left:0;top:0;bottom:0;width:10%;height:100%;float:left;border-bottom:1px solid #eee;border-right:1px solid #eee}@media (min-width:1024px){.hasMore_3XX6Q,.hasMoreRight_2_AJO{width:2%}}",""]),e.locals={"fader-enter":"fader-enter_HfumG",inner:"inner_2gxAy",weekend:"weekend_rXBIM",today:"today_2HPL_",main:"main_1LPzZ",mainChildCont:"mainChildCont_nRP6i",mainChild:"mainChild_DDeFN",hasMoreContainer:"hasMoreContainer_37Ljt",hasMoreInner:"hasMoreInner_3NWF8",hasMore:"hasMore_3XX6Q",hasMoreRight:"hasMoreRight_2_AJO",mainTitleChild:"mainTitleChild_98egW"}},287:function(t,e,n){"use strict";var o=n(234),r=n.n(o);e.default=r.a},288:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".main_NXFqJ{position:relative;height:100%}",""]),e.locals={main:"main_NXFqJ"}},289:function(t,e,n){"use strict";var o=n(235),r=n.n(o);e.default=r.a},290:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".main_N-MCk{display:inline-block;min-width:45px;padding:.3em .6em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;line-height:1em}.CBD_2DILo{background-color:#009b48}.NP_3wos5{background-color:#a05800}.CP_12X6c{background-color:#0086b7}.HLS_1M8zB{background-color:#eeb422}.SBSTTA_3z-ur{background-color:#f77502}.SBI_3diT0{background-color:#8b475d}.W8J_2_kap{background-color:#793698}",""]),e.locals={main:"main_N-MCk",CBD:"CBD_2DILo",NP:"NP_3wos5",CP:"CP_12X6c",HLS:"HLS_1M8zB",SBSTTA:"SBSTTA_3z-ur",SBI:"SBI_3diT0",W8J:"W8J_2_kap"}},294:function(t,e,n){"use strict";var o=n(236),r=n.n(o);e.default=r.a},295:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".badge_2H7QI{display:inline-block;min-width:45px;padding:.3em .6em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;line-height:1em;background-color:#2e8b57;cursor:pointer}.workflow_1NqC0{background-color:grey}",""]),e.locals={badge:"badge_2H7QI",workflow:"workflow_1NqC0"}},296:function(t,e,n){"use strict";var o=n(237),r=n.n(o);e.default=r.a},297:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".badge_1Pl2J{display:inline-block;min-width:45px;padding:.3em .6em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em;line-height:1em;background-color:#2e8b57;cursor:pointer}.workflow_1Hm8D{background-color:grey}",""]),e.locals={badge:"badge_1Pl2J",workflow:"workflow_1Hm8D"}},298:function(t,e,n){"use strict";var o=n(238);n.n(o).a},299:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".slide-details-enter-active,.slide-details-leave-active{transition:all .4s ease}.slide-details-enter{transform:translateY(100%);opacity:0}.slide-details-leave-to{transform:translateY(200%);opacity:0}",""])},300:function(t,e,n){"use strict";var o=n(239),r=n.n(o);e.default=r.a},301:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".caps_3KAyK{text-transform:capitalize}.pointer_1rXRN{cursor:pointer}.main_9A7v3{white-space:normal;position:absolute;top:0;right:0;left:0;bottom:0;background-color:#fff;z-index:20;overflow-y:auto}.body__0nDZ,.footer_3KQ-T{padding:5px 15px}.footer_3KQ-T{border-top:1px solid #eee;margin:0}.title_2TmRV{font-size:1.2em;padding:3px 15px;color:#fff;background-color:#009b48;background:#009b48;background:linear-gradient(to bottom right,#008200,#009b48)}.titleCont_1u6Uv{background-color:#009b48;color:#fff}",""]),e.locals={caps:"caps_3KAyK",pointer:"pointer_1rXRN",main:"main_9A7v3",body:"body__0nDZ",footer:"footer_3KQ-T",title:"title_2TmRV",titleCont:"titleCont_1u6Uv"}},302:function(t,e,n){"use strict";var o=n(240);n.n(o).a},303:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".slide-filter-enter-active,.slide-filter-leave-active{transition:all .4s ease}.slide-filter-enter{transform:translateY(100%);opacity:0}.slide-filter-leave-to{transform:translateY(200%);opacity:0}",""])},304:function(t,e,n){"use strict";var o=n(241),r=n.n(o);e.default=r.a},305:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".filterRow_12EsS{padding:5px 15px}.title_wzzhY{font-size:1.2em;padding:3px 15px;color:#fff;background-color:#333;background:#333;background:linear-gradient(to bottom right,#555,#333)}.formGroup_2HsoU{margin-bottom:0}.main_177Ry{white-space:normal;position:absolute;top:0;right:0;left:0;bottom:0;background-color:#fff;z-index:20;overflow-y:auto}",""]),e.locals={filterRow:"filterRow_12EsS",title:"title_wzzhY",formGroup:"formGroup_2HsoU",main:"main_177Ry"}},306:function(t,e,n){"use strict";var o=n(242);n.n(o).a},307:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".slide-week-enter-active,.slide-week-leave-active{transition:all .2s ease}.slide-week-enter{transform:translateY(100%);opacity:0}",""])},308:function(t,e,n){"use strict";var o=n(243),r=n.n(o);e.default=r.a},309:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".main_1KQ4r{position:relative;height:100%;padding:0}.child_1BwXI{margin-right:100%}",""]),e.locals={main:"main_1KQ4r",child:"child_1BwXI"}},310:function(t,e,n){"use strict";var o=n(244),r=n.n(o);e.default=r.a},311:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".row_2Irzw{background-color:rgba(0,0,0,.4);height:1.75em}.bg_joE3i{position:absolute;top:0;left:0;right:0;color:#fff;z-index:500}.gradient_2BxQN{position:relative;background:#bdc3c7;background:linear-gradient(to bottom right,#bdc3c7,#2c3e50)}.left_2atOp{line-height:1.75em;text-align:left}.left_2atOp,.right_Ssidy{height:1.75em}.right_Ssidy{text-align:right}.title_2hfH7{font-weight:700}.pointer_1Z5L4{cursor:pointer}",""]),e.locals={row:"row_2Irzw",bg:"bg_joE3i",gradient:"gradient_2BxQN",left:"left_2atOp",right:"right_Ssidy",title:"title_2hfH7",pointer:"pointer_1Z5L4"}},313:function(t,e,n){"use strict";var o=n(245);n.n(o).a},314:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".slide-enter-active,.slide-leave-active{transition:all .4s ease}",""])},315:function(t,e,n){"use strict";var o=n(246),r=n.n(o);e.default=r.a},316:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".slideContainer_BE6Wf{position:absolute;bottom:0;left:0;right:0;height:3.5em;cursor:pointer}.bg_2X0MX{background-color:#eee;height:3.5em;line-height:1.75em;white-space:nowrap}.selected_17Vbh{color:#fff;background-color:rgba(0,0,255,.8)}.currentOverlay_2UhiU{position:absolute;width:10%;height:95%;bottom:0;left:45%}.colXs5ths_3NX7X{position:relative;min-height:3.5em;padding-right:15px;padding-left:15px;display:inline-block;width:20%;color:#000;z-index:200;text-align:center}",""]),e.locals={slideContainer:"slideContainer_BE6Wf",bg:"bg_2X0MX",selected:"selected_17Vbh",currentOverlay:"currentOverlay_2UhiU",colXs5ths:"colXs5ths_3NX7X"}},319:function(t,e,n){"use strict";var o=n(247);n.n(o).a},320:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,"a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}",""])},321:function(t,e,n){"use strict";var o=n(248),r=n.n(o);e.default=r.a},322:function(t,e,n){(e=t.exports=n(18)(!1)).push([t.i,".calComponent_3V_Lr{position:relative;height:100vh;width:100vw;padding-bottom:5.3em}",""]),e.locals={calComponent:"calComponent_3V_Lr"}},323:function(t,e,n){"use strict";var o=n(249);n.n(o).a},324:function(t,e,n){(t.exports=n(18)(!1)).push([t.i,".cal{margin-bottom:50px}",""])},332:function(t,e,n){"use strict";n.r(e);n(10),n(17),n(13),n(277);var o=n(2),r=n(70),l={scrollToTop:!0,head:function(){return{title:this.title,link:[{hid:"canonical",rel:"canonical",href:"".concat(this.$route.path)}],meta:[{hid:"description",name:"description",content:this.description},{hid:"twitter:title",name:"twitter:title",content:this.title},{hid:"twitter:description",name:"twitter:description",content:this.description},{hid:"og:title",name:"og:title",content:this.title},{hid:"og:description",name:"og:description",content:this.description},{hid:"lang",name:"lang",content:this.$i18n.locale},{hid:"og:image",name:"og:image",content:this.image},{hid:"twitter:card",name:"twitter:card",content:"summary"},{hid:"twitter:site",name:"twitter:site",content:"@CBDNews"}],htmlAttrs:{lang:this.$i18n.locale,dir:c(this.$i18n.locale)}}}};function c(t){return"ar"===t?"rtl":"ltr"}n(257),n(49);var d=n(0),f=new d.a,h="vLineClampValue",m=!1;function v(t,e,n){if(n){var o=parseInt(e.arg);isNaN(o)&&(o=16);var r=o*n;t.style.maxHeight=r?r+"px":"",t.style.overflowX="hidden",t.style.lineHeight=o+"px"}else t.style.maxHeight=t.style.overflowX=""}function y(t,e,n){var o=parseInt(e.value);isNaN(o)||o!==t[h]&&(t[h]=o,n?n(t,e,o):t.style.webkitLineClamp=o||"")}var _={bind:function(t){"undefined"!=typeof document&&(m="webkitLineClamp"in document.body.style?void 0:v,t.style.cssText+="display:block;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis")},inserted:function(t,e){return y(t,e,m)},updated:function(t,e){return y(t,e,m)},componentUpdated:function(t,e){return y(t,e,m)}},w=n(280),k=n.n(w);var x={name:"CalEvent",props:["event"],data:function(){return{numLines:1,widthFlag:!1}},directives:{clamp:_},methods:{getDuration:function(){var t=r.DateTime.fromISO(this.event.start),e=r.DateTime.fromISO(this.event.end).diff(t).shiftTo("hours","minutes").toObject();e.minutes<60&&e.minutes>58&&(e.minutes=0,e.hours++);var n="".concat((o=e.minutes,o>0&&o<=15?15:o>15&&o<=30?30:o>30&&o<=59?45:0),"m");var o;if(e.minutes<59&&!e.hours&&e.minutes)return n;e.minutes||(n="");return"".concat(e.hours,"h ")+n},showDetails:function(t){t.data=this.event,f.$emit("EventDetails",t)},getStartTime:function(){return r.DateTime.fromISO(this.event.start,{zone:this.event.timezone}).toFormat("T")},resize:function(){var t=this;this.$nextTick(function(){t.numLines=function(t){if(t<=52)return 1;if(t>53&&t<=79)return 2;if(t>79&&t<=105)return 3;if(t>106)return 4}(t.$el.clientHeight),1===t.numLines?t.oneLine():t.$refs.eventCalTitle.style.margin="1em 0 1em 0"})},oneLine:function(){if(!this.$refs.eventCalTitle)return;this.$refs.eventCalTitle.style.margin="0 0 0 0";var t=this.$refs.eventCalTitle.clientWidth,e=this.$el.clientWidth-8;this.$el.clientHeight<35?t>=e&&(this.$refs.eventCalTitle.style.width=this.$refs.eventCalTitle.clientWidth-35+"px"):this.$refs.eventCalTitle.style.width="100%"},isPast:function(){var t=r.DateTime.fromISO(this.event.start),e=r.DateTime.utc();return t<e}},mounted:function(){this.isMounted=!0,this.resize(),window.addEventListener("resize",k()(this.resize,50))},destroyed:function(){var t=this;this.$nextTick(function(){window.removeEventListener("resize",k()(t.resize,50))})}},$=n(281),T=n(5);function D(t){return 100*t.scrollLeft/(t.scrollWidth-t.clientWidth)}var C={name:"CalWeekRow",data:function(){return{scrollPosition:0,hasMoreL:!1}},props:["day","dayEvents","yIndex","conference"],components:{CalEvent:Object(T.a)(x,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"eventCal",class:[t.$style.main,t.isPast()?t.$style.past:""],on:{click:t.showDetails}},[n("p",{directives:[{name:"clamp",rawName:"v-clamp:20",value:t.numLines,expression:"numLines",arg:"20"}],ref:"eventCalTitle",class:[t.$style.mainTitle]},[t._v("\n    "+t._s(t.event.title)+"\n  ")]),t._v(" "),n("div",{class:[t.$style.footer]},[t._v("\n    "+t._s(t.getStartTime())+"\n  ")])])},[],!1,function(t){this.$style=$.default.locals||$.default},null,null).exports},methods:{onScroll:function(t){if(!this.dayEvents)return void(this.hasMoreL=0);this.hasMoreL=D(t.target)>0,this.scrollPosition=D(t.target)},scrollForward:function(){var t=this.$refs.day;t.scrollLeft+=t.clientWidth},scrollBack:function(){var t=this.$refs.day;t.scrollLeft-=t.clientWidth}},computed:{hasMoreRight:function(){if(!this.dayEvents)return!1;var t=100/this.dayEvents.length;return!(this.scrollPosition+t>=100)&&t<20},hasMoreLeft:function(){return this.hasMoreL}},mounted:function(){var t=this.$refs.day;t.addEventListener?t.addEventListener("scroll",this.onScroll):t.onscroll=this.onScroll}},M=(n(283),n(285));var F={name:"CalWeekBody",components:{CalWeekRow:Object(T.a)(C,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.$style.main]},[n("div",{ref:"weekRowTitle"+t.yIndex,staticClass:"text-center",class:[t.$style.mainTitleChild,t.day.isToday?t.$style.today:"",t.day.isWeekend?t.$style.weekend:""]},[n("div",{class:[t.$style.inner]},[t._v("\n      "+t._s(t.day.subTitle)+" "),n("br"),t._v("\n      "+t._s(t.day.title)+"\n    ")])]),t._v(" "),n("transition",{attrs:{name:"fader"}},[t.hasMoreLeft?n("div",{ref:"hasMore"+t.yIndex,class:[t.$style.hasMore]},[n("div",{class:[t.$style.hasMoreContainer],on:{click:t.scrollBack}},[n("div",{class:[t.$style.hasMoreInner]},[n("span",{staticClass:"eco-left-circled"})])])]):t._e()]),t._v(" "),n("div",{ref:"day",class:[t.$style.mainChildCont]},t._l(t.dayEvents,function(e,o){return n("CalEvent",{key:e.identifier,ref:"calEvent"+t.yIndex,refInFor:!0,class:[t.$style.mainChild],attrs:{"conference:":t.conference,event:e,indicies:{xIndex:o,yIndex:t.yIndex,totalXIndex:t.dayEvents.length}}})}),1),t._v(" "),n("transition",{attrs:{name:"fader"}},[t.hasMoreRight?n("div",{ref:"hasMore"+t.yIndex,class:[t.$style.hasMoreRight]},[n("div",{class:[t.$style.hasMoreContainer],on:{click:t.scrollForward}},[n("div",{class:[t.$style.hasMoreInner]},[n("span",{staticClass:"eco-right-circled"})])])]):t._e()])],1)},[],!1,function(t){this.$style=M.default.locals||M.default},null,null).exports},props:["week","eventsByWeek","conference"],computed:{events:function(){return this.eventsByWeek}},methods:{getDayEvents:function(t){return this.eventsByWeek?this.eventsByWeek[t.aDateTime.toFormat("yyyy-MM-dd")]:[]}}},E=n(287);var I=Object(T.a)(F,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.$style.main]},t._l(t.week.dayIterarions,function(e,o){return n("CalWeekRow",{key:o,attrs:{"y-index":o,day:e,"day-events":t.getDayEvents(e),"conference:":t.conference}})}),1)},[],!1,function(t){this.$style=E.default.locals||E.default},null,null).exports,S={name:"AgendaItem",props:["body","item"],methods:{mapBody:function(){return~this.body.indexOf("COP")?"CBD":this.body.slice(0,this.body.indexOf("-"))}}},O=n(289);var L=Object(T.a)(S,function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{class:[t.$style.main,t.$style[t.mapBody()]]},[t._v("\n  "+t._s(t.mapBody())+" "+t._s(t.item)+"\n")])},[],!1,function(t){this.$style=O.default.locals||O.default},null,null).exports,W=(n(39),n(30),n(93)),z=n.n(W),N=n(291),P=n.n(N);var B={name:"CalEventDetailsFileStatus",props:["file"],data:function(){return{symbol:this.file.symbol,id:this.file._id,title:this.file.title?this.file.title.en:"",fullFile:{}}},computed:{download:function(){return this.fullFile.files?this.fullFile.files.find(function(t){return"en"===t.language&&"application/msword"===t.type||"en"===t.language&&"application/pdf"===t.type}).url:"#"},getWorkflow:function(){if(!this.fullFile)return!1;if(this.fullFile.workflow&&this.fullFile.workflow.steps){return this.fullFile.workflow.steps.find(function(s){return"active"===s.status}).status}}},methods:{genFilesFields:function(){return{symbol:1,id:1}},genFilesQuery:function(){return{type:"official"}},genFilesParams:function(){return P.a.stringify({params:{q:this.genFilesQuery(),f:this.genFilesFields()}})},genFilePath:function(){return"".concat("https://api.cbd.int","/api/v2016/meetings/").concat(this.genMeetingFromSymbol(),"/documents/").concat(this.id)},get:function(path){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return z.a.get(path,t)},genMeetingFromSymbol:function(){if(!this.symbol)return!1;var t=this.symbol.split("/");return"".concat(t[1],"-").concat(t[2])},goTo:function(t){"undefined"!=typeof window&&window.open(t,"_blank")}},created:function(){var t=this;this.get(this.genFilePath(this.symbol)).then(function(e){t.fullFile=e.data})}},A=n(294);var X=Object(T.a)(B,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("a",{attrs:{target:"_blank"},on:{click:function(e){e.stopPropagation(),t.goTo("https://www.cbd.int/meetings/"+t.genMeetingFromSymbol()+"/documents/status")}}},[t.fullFile.workflow?t._e():n("span",{class:[t.$style.badge]},[t._v("public")])]),t._v(" "),n("a",{attrs:{target:"_blank"},on:{click:function(e){e.stopPropagation(),t.goTo("https://www.cbd.int/meetings/"+t.genMeetingFromSymbol()+"/documents/status")}}},[t.fullFile.workflow?n("span",{class:[t.$style.badge,t.$style.workflow]},[t._v(t._s(t.getWorkflow))]):t._e()])])},[],!1,function(t){this.$style=A.default.locals||A.default},null,null).exports;var R={name:"CalEventDetailsFile",props:["file"],data:function(){return{symbol:this.file.symbol,id:this.file._id,title:this.file.title?this.file.title.en:"",fullFile:{}}},created:function(){var t=this;this.getData(this.genFilePath(this.symbol)).then(function(e){t.fullFile=e.data})},computed:{download:function(){return this.fullFile.files?this.fullFile.files.find(function(t){return"en"===t.language&&"application/msword"===t.type||"en"===t.language&&"application/pdf"===t.type}).url:"#"}},methods:{genFilePath:function(){return"".concat("https://api.cbd.int","/api/v2016/meetings/").concat(this.genMeetingFromSymbol(),"/documents/").concat(this.id)},genMeetingFromSymbol:function(){if(!this.symbol)return!1;var t=this.symbol.split("/");return"".concat(t[1],"-").concat(t[2])},getData:function(path){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return z.a.get(path,t)}}},j=n(296);var H={name:"Details",props:["event","conference"],data:function(){return{api:"https://api.cbd.int"}},components:{AgendaItem:L,CalEventDetailsFile:Object(T.a)(R,function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("a",{attrs:{href:this.download}},[this._v(this._s(this.symbol))])])},[],!1,function(t){this.$style=j.default.locals||j.default},null,null).exports,FileStatus:X},methods:{showDetails:function(t){t.stopPropagation(),t.data={data:!0},f.$emit("EventDetails",t)},files:function(t){this.calEvent.itemText||(this.calEvent.itemText=[]);this.calEvent.item||(this.calEvent.item=[]);this.calEvent.itemFiles||(this.calEvent.itemFiles=[]);for(var i=0;i<this.calEvent.itemFiles.length;i++)"string"==typeof this.calEvent.itemFiles[i]&&(this.calEvent.itemFiles[i]=JSON.parse(this.calEvent.itemFiles[i])),this.calEvent.itemFiles[i]&&this.calEvent.itemFiles[i][0]&&(this.calEvent.itemFiles[i]=this.calEvent.itemFiles[i][0]);return this.calEvent.itemFiles[t]||{}},itemTextArr:function(i){return this.calEvent.itemText?this.calEvent.itemText[i]:""},goTo:function(t){"undefined"!=typeof window&&window.open(t,"_blank")},isInSession:function(){var t=r.DateTime.fromISO(this.conference.schedule.start),e=r.DateTime.local().setZone(this.conference.timezone);return t<=e},addToCalReady:function(){return this.conference.schedule.addToCalReady}},computed:{calEvent:function(){return this.event?this.event:{}},dateTime:function(){var t=r.DateTime.fromISO(this.calEvent.start,{zone:this.calEvent.timezone}).toFormat("T"),e=r.DateTime.fromISO(this.calEvent.end,{zone:this.calEvent.timezone}).toFormat("T  cccc, LLLL L ");return"".concat(t," - ").concat(e)},location:function(){var t=this.calEvent.roomLocalName||"",e=this.calEvent.roomLocation,title=this.calEvent.roomTitle;return"".concat(t).concat(e&&t?",":""," ").concat(e).concat(title?",":""," ").concat(title)},organizer:function(){var t=this.calEvent.organizerName||"",e=this.calEvent.organizerEmail||"";e&&(e="".concat(t?"-":""," <").concat(e,">"));return!(!e&&!t)&&"".concat(t," ").concat(e)},organizerEmail:function(){return this.calEvent.organizerEmail||""}}},U=(n(298),n(300));var Q=Object(T.a)(H,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-details"}},[n("div",{class:[t.$style.main],on:{click:function(e){return e.stopPropagation(),t.showDetails(e)}}},[n("div",{class:t.$style.title},[n("span",{staticClass:"eco-cancel pull-right",class:t.$style.pointer}),t._v(" "),n("span",[t._v(t._s(t.calEvent.title))])]),t._v(" "),n("div",{class:[t.$style.body]},[n("div",{staticClass:"text-primary"},[n("span",{staticClass:"eco-clock"}),t._v(" "+t._s(t.dateTime)+"\n      ")]),t._v(" "),t.addToCalReady()?n("div",[n("span",{staticClass:"eco-calendar-empty"}),t._v(" "),t._l(t.calEvent.stream_ss,function(e,o){return n("span",{key:o,class:t.$style.caps},[t._v(t._s(e)),o<t.calEvent.stream_ss.length-1?n("span",[t._v(",")]):t._e(),t._v("\n             \n        ")])})],2):t._e(),t._v(" "),t.isInSession()?n("div",[n("span",{staticClass:"eco-location"}),t._v(" "+t._s(t.location)+"\n      ")]):t._e(),t._v(" "),(t.organizer||t.organizerEmail)&&t.$isStaff?n("div",[n("span",{staticClass:"eco-address-card"}),t._v(" "),n("a",{attrs:{href:""+t.organizerEmail}},[t._v(t._s(t.organizer||t.organizerEmail))]),t._v(" "),t._l(t.calEvent.organizers,function(e,i){return n("div",{key:i},[t._v("\n          "+t._s(e)+"\n        ")])})],2):t._e(),t._v(" "),t.calEvent.item_ss&&t.calEvent.item_ss.length?n("div",[n("table",[n("tr",[n("td",{staticStyle:{"vertical-align":"top"}},[n("span",{staticClass:"eco-docs"})]),t._v(" "),n("td",[n("table",t._l(t.calEvent.item_ss,function(e,o){return n("tr",{key:o},[n("td",[n("AgendaItem",{attrs:{body:t.calEvent.itemMeeting[o],item:e}})],1),t._v(" "),n("td",[t._v("\n                    "+t._s(t.itemTextArr(o))+"\n                  ")]),t._v(" "),n("td",[t.files(o)._id?n("CalEventDetailsFile",{attrs:{file:t.files(o)}}):t._e()],1),t._v(" "),n("td",[t.files(o)._id&&t.$isStaff?n("FileStatus",{attrs:{file:t.files(o)}}):t._e()],1)])}),0)])])])]):t._e(),t._v(" "),n("div")]),t._v(" "),n("div",{class:t.$style.footer},[n("span",{domProps:{innerHTML:t._s(t.calEvent.description)}})])])])},[],!1,function(t){this.$style=U.default.locals||U.default},null,null).exports;n(40),n(51);var J={name:"Details",data:function(){return{keyWordFilter:"",showStreamDropdown:!1,showSubjectDropdown:!1,showAgendaItemDropdown:!1,selectedStream:this.$t("stream"),selectedProgramme:this.$t("programme"),selectedAgendaItem:this.$t("agendaItem"),streams:[],agendaItems:[],programmes:[]}},created:function(){var t,e=this,n=this.$i18n.locale;(t="".concat("https://api.cbd.int","/api/v2013/thesaurus/domains/CBD-SUBJECTS/terms"),z.a.get(t)).then(function(t){t=function(t){for(var e=[],map={},i=0;i<t.length;i++)map[t[i].identifier]=t[i];for(var n=0;n<t.length;n++)if(!t[n].broaderTerms.length){e.push(t[n]),t[n].narrowerTerms.length&&(t[n].children||(t[n].children=[]));for(var o=0;o<t[n].narrowerTerms.length;o++)t[n].children.push(map[t[n].narrowerTerms[o]])}return e}(function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",i=0;i<t.length;i++)for(var n in t[i])["title"].includes(n)&&(t[i][n]=t[i][n][e]);return t}(t.data,n)),e.$set(e,"programmes",t.filter(function(p){return p}))})},props:["event"],methods:{showFilter:function(t){t.data=!1,f.$emit("showFilter",t)},toggleStream:function(){this.showStreamDropdown=!this.showStreamDropdown},done:function(t){t.data={show:!1,keyWordFilter:this.keyWordFilter,selectedAgendaItem:this.selectedAgendaItem!==this.$t("agendaItem")?this.selectedAgendaItem:"",selectedProgramme:this.selectedProgramme!==this.$t("programme")?this.selectedProgramme:"",selectedStream:this.selectedStream!==this.$t("stream")?this.selectedStream:""},f.$emit("showFilter",t)}}},V=(n(302),n(304));var K={name:"CalBody",props:["selectedIteration","events","conference"],data:function(){return{detailsData:!1,showFilter:!1}},components:{CalWeekBody:I,Details:Q,CalFilter:Object(T.a)(J,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-filter"}},[n("div",{class:[t.$style.main],on:{click:function(e){return e.stopPropagation(),t.showFilter(e)}}},[n("div",{class:t.$style.title},[t._v("\n      "+t._s(t.$t("filterEventsTitle"))+"\n      "),n("span",{staticClass:"pull-right"},[n("a",{attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),t.done(e)}}},[t._v("Done")])])]),t._v(" "),n("div",{class:[t.$style.filterRow]},[n("div",{staticClass:"form-group form-group-sm",class:[t.$style.formGroup]},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWordFilter,expression:"keyWordFilter"}],staticClass:"form-control input-sm",attrs:{placeholder:t.$t("keyWord"),type:"input"},domProps:{value:t.keyWordFilter},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.keyWordFilter=e.target.value)}}})])]),t._v(" "),n("hr",{staticStyle:{"margin-top":"0"}}),t._v(" "),n("div",{class:[t.$style.filterRow]},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedStream,expression:"selectedStream"}],staticClass:"form-control input-sm",on:{click:function(t){t.stopPropagation()},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedStream=e.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:""},domProps:{value:t.$t("stream")}},[t._v("\n          "+t._s(t.$t("stream"))+"\n        ")]),t._v(" "),n("option",{attrs:{value:"official"}},[t._v("\n          Official\n        ")]),t._v(" "),n("option",{attrs:{value:"regional"}},[t._v("\n          Regional\n        ")]),t._v(" "),n("option",{attrs:{value:"contact"}},[t._v("\n          Contact\n        ")]),t._v(" "),n("option",{attrs:{value:"hls"}},[t._v("\n          High Level Segment\n        ")]),t._v(" "),n("option",{attrs:{value:"side-events"}},[t._v("\n          Side-events\n        ")]),t._v(" "),n("option",{attrs:{value:"side-events-cbd"}},[t._v("\n          Side-events SCBD\n        ")]),t._v(" "),n("option",{attrs:{value:"events-cbd"}},[t._v("\n          Events SCBD\n        ")])])]),t._v(" "),n("hr",{staticStyle:{"margin-top":"0"}}),t._v(" "),t._e(),t._v(" "),n("hr",{staticStyle:{"margin-top":"0"}}),t._v(" "),t._e(),t._v(" "),t._e()])])},[],!1,function(t){this.$style=V.default.locals||V.default},null,null).exports},mounted:function(){f.$on("EventDetails",this.showDetails),f.$on("showFilter",this.filter)},methods:{leave:function(){var t=this;for(var e in this.$children[0].$refs)this.$children[0].$refs[e].style.display="block";setTimeout(function(){t.selectedIteration.loading=!1},400)},showDetails:function(t){var data=t.data;this.detailsData=!this.detailsData&&data},filter:function(t){if(t&&t.hasOwnProperty("data"))return this.showFilter=t.data.show;this.showFilter=!this.showFilter}},computed:{isWeek:function(){return"week"===this.selectedIteration.type},isMeeting:function(){return"meeting"===this.selectedIteration.type},isDay:function(){return"day"===this.selectedIteration.type},selectedEvents:function(){if(!this.selectedIteration)return{};var t=this.events,e=this.selectedIteration.aDateTime.toFormat("yyyy-W"),n=this.selectedIteration.aDateTime.toFormat("yyyy-MM-dd");if(this.isWeek&&t.weeks)return t.weeks[e];if(this.isDay&&t.days)return t.days[n]}}},G=(n(306),n(308));var Y=Object(T.a)(K,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.$style.main]},[t.detailsData?n("Details",{attrs:{conference:t.conference,event:t.detailsData}}):t._e(),t._v(" "),t.showFilter?n("CalFilter",{on:{filter:t.filter}}):t._e(),t._v(" "),n("transition",{attrs:{name:"slide-week"},on:{leave:t.leave}},[t.isWeek&&!t.selectedIteration.loading?n("CalWeekBody",{attrs:{week:t.selectedIteration,"events-by-week":t.selectedEvents,"conference:":t.conference,"keep-alive":""}}):t._e()],1)],1)},[],!1,function(t){this.$style=G.default.locals||G.default},null,null).exports;var Z={name:"CalHeader",props:["selectedIteration"],data:function(){return{showFilter:!1}},methods:{filter:function(){f.$emit("showFilter")}}},tt=n(310);var et=Object(T.a)(Z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid",class:[t.$style.bg,t.$style.gradient]},[n("div",{staticClass:"row",class:[t.$style.row]},[n("div",{staticClass:"col-xs-9",class:[t.$style.left]},[n("span",{class:[t.$style.title]},[t._v(t._s(t.selectedIteration.title)+" ")]),t._v(" "),n("small",[n("span",[t._v(t._s(t.selectedIteration.subTitle))])])]),t._v(" "),n("div",{staticClass:"col-xs-3",class:[t.$style.right]},[n("span",{staticClass:"eco-filter",class:[t.$style.pointer],on:{click:t.filter}})])])])},[],!1,function(t){this.$style=tt.default.locals||tt.default},null,null).exports,it={};var nt={name:"CalFooter",props:["iterations"],mounted:function(){it=n(312)},methods:{changeDate:function(t){if(7===Number(t))return;return this.change=7-Number(t)>0,this.$emit("action",7-Number(t))},handlers:function(){return{left:this.left,right:this.right}},inBounds:function(t,e){return(!this.iterations||15===this.iterations.length)&&(e>4&&e<10)},leave:function(t){if(this.iterations&&15===this.iterations.length)return!1;var e=this.change?"":"-";it(t,{translateX:"".concat(e,"100%"),"background-color":"#eeeeee",color:"inherit"},{duration:20})}}},at=(n(313),n(315));var st=Object(T.a)(nt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid",class:[t.$style.slideContainer]},[n("div",{staticClass:"row",class:[t.$style.bg]},t._l(t.iterations,function(e,o){return n("transition",{key:e.weekNumber,attrs:{name:"slide"},on:{leave:t.leave}},[t.inBounds(e,o)?n("div",{class:[t.$style.bg,7===o&&15===t.iterations.length?t.$style.selected:"",t.$style.colXs5ths],on:{click:function(e){return t.changeDate(o)}}},[n("span",[t._v(t._s(e.startMon)),n("br"),t._v("\n          "+t._s(e.startDay)+"-"+t._s(e.endDay)+"\n        ")])]):t._e()])}),1)])},[],!1,function(t){this.$style=at.default.locals||at.default},null,null).exports,ot=n(317),lt=n(318),ct=n(258),ut=n(259),ft=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";Object(ot.a)(this,t),this.loading=!1,this._initI18n(e,o),d.a.set(this,"iterations",[]),this.weekIterations(n)}return Object(lt.a)(t,[{key:"_initI18n",value:function(t,e){this.locale=e,this.$i18n=t;var n={en:ct,fr:ut};for(var o in n)this.$i18n.mergeLocaleMessage(o,n[o])}},{key:"weekIterations",value:function(t){t.setLocale(this.locale),this.weekDateTime=t.startOf("week")||r.DateTime.local().startOf("week"),this.startWeek=t.minus({weeks:7}).startOf("week"),this.endWeek=t.plus({weeks:7}).startOf("week");for(var i=0;i<15;i++){var e={prev:this.iterations[i-1],aDateTime:this.startWeek.plus({weeks:i}),i18n:this.$i18n};this.iterations[i]=new ht(e)}for(var n=0;n<15;n++)this.iterations[n].next=this.iterations[n+1]}},{key:"add",value:function(t){t<0&&this._fromRight(t),t>0&&this._fromLeft(t)}},{key:"setLocale",value:function(){for(var i=0;i<this.iterations.length;i++)this.iterations[i].setI18n(this.i18n)}},{key:"_fromLeft",value:function(t){var e=this;this.loading=!0;for(var i=0;i<t;i++){var n={prev:null,aDateTime:this.iterations[0].startDateTime.minus({weeks:1}).startOf("week"),next:this.iterations[0],i18n:this.$i18n},o=new ht(n);this.iterations[0].prev=o,setTimeout(function(){d.a.nextTick(function(){return e.iterations.pop()})},400),this.iterations.unshift(o)}}},{key:"_fromRight",value:function(t){var e=this;this.loading=!0,t*=-1;for(var i=0;i<t;i++){var n={prev:this.iterations[14],aDateTime:this.iterations[14].startDateTime.plus({weeks:1}).startOf("week"),next:null,i18n:this.$i18n},o=new ht(n);this.iterations[14].next=o,this.iterations.push(o),setTimeout(function(){d.a.nextTick(function(){return e.iterations.shift()})},400)}}},{key:"selected",get:function(){for(var i=0;i<15;i++)this.iterations[i].loading=this.loading;return this.iterations[7]}}]),t}(),ht=function(){function t(e){Object(ot.a)(this,t);var n=e.aDateTime,o=e.next,r=e.prev,l=e.i18n;this.type="week",this.aDateTime=n,this.$i18n=l,this.loading=!1,this.nextTick=o,this.prev=r,this._initDayIterarions()}return Object(lt.a)(t,[{key:"setI18n",value:function(t){this.$i18n=t,this._initDayIterarions()}},{key:"_initDayIterarions",value:function(){this.dayIterarions||(this.dayIterarions=[]);for(var i=0;i<7;i++){var t=this.startDateTime.plus({day:i}).startOf("day");this.dayIterarions[i]={aDateTime:t,title:t.day,subTitle:"".concat(t.setLocale(this.$i18n.locale).toFormat("MMM")),isWeekend:this._isWeekend(t),isToday:this._isToday(t)}}return this.dayIterarions}},{key:"_isWeekend",value:function(t){return"1"===t.toFormat("c")||"7"===t.toFormat("c")}},{key:"_isToday",value:function(t){return t.startOf("day").valueOf()==r.DateTime.local().startOf("day").valueOf()}},{key:"weekNumber",get:function(){return this.aDateTime.setLocale(this.$i18n.locale).weekNumber}},{key:"year",get:function(){return this.aDateTime.setLocale(this.$i18n.locale).toFormat("yyyy")}},{key:"startDateTime",get:function(){return this.aDateTime.setLocale(this.$i18n.locale).startOf("week")}},{key:"startMon",get:function(){return this.startDateTime.setLocale(this.$i18n.locale).toFormat("MMM")}},{key:"startMonth",get:function(){return this.startDateTime.setLocale(this.$i18n.locale).toFormat("MMMM")}},{key:"startDay",get:function(){return this.startDateTime.setLocale(this.$i18n.locale).day}},{key:"endDateTime",get:function(){return this.startDateTime.setLocale(this.$i18n.locale).endOf("week")}},{key:"endMon",get:function(){return this.startMon===this.endDateTime.setLocale(this.$i18n.locale).toFormat("MMM")?"":this.endDateTime.setLocale(this.$i18n.locale).toFormat("MMM")}},{key:"endMonth",get:function(){return this.startMonth===this.endDateTime.setLocale(this.$i18n.locale).toFormat("MMMM")?"":this.endDateTime.setLocale(this.$i18n.locale).toFormat("MMMM")}},{key:"endDay",get:function(){return this.endDateTime.setLocale(this.$i18n.locale).day}},{key:"title",get:function(){return"".concat(this.startMon," ").concat(this.startDay," - ").concat(this.endMon," ").concat(this.endDay)}},{key:"subTitle",get:function(){return"".concat(this.year," (").concat(this.$i18n.t("week")," ").concat(this.weekNumber,")")}}]),t}(),mt={en:n(258),fr:n(259)};var vt={name:"Calendar",props:["options"],data:function(){return{events:{},query:{},iterationsService:this.setIterationsService(this.$i18n,this.$route.query.selected),conference:this.options.conference}},components:{CalBody:Y,CalHeader:et,CalFooter:st},computed:{iterations:function(){var t;return this.iterationsService&&(t=this.iterationsService.iterations),t||[]},selectedIteration:function(){return this.iterationsService.selected||{}},queryObject:function(){var t=this.options,e=t.locale,n=t.conference;n&&(n=n._id);var o=Object.assign(this.query,{locale:e,conference:n});o.locale||(o.locale="en");return this.query=o,o}},methods:{changeDateTime:function(t){var e=this;this.iterationsService||this.setIterationsService();var n=Number(t);this.setQueryString(n),this.getEvents(this.query).then(function(){e.iterationsService.add(n)})},setIterationsService:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"week";if(!t)throw new Error("must have i18n installed");var o=(this&&this.options||{}).locale||"en";e=e?r.DateTime.fromISO(e):r.DateTime.local();if("week"===n)return new ft(t,e,o)},getEvents:function(){var t=this;return this.options.queryFn(this.queryObject).then(function(e){t.events=e})},setQueryString:function(t){var e;-1==t&&(e=this.selectedIteration.next);-2==t&&(e=this.selectedIteration.next.next);2==t&&(e=this.selectedIteration.prev.prev);1==t&&(e=this.selectedIteration.prev);0==t&&(e=this.selectedIteration);t&&this.$router.replace({query:{selected:e.aDateTime.toFormat("yyyy-MM-dd")}});var n=e.aDateTime.toUTC().toISO(),o=e.endDateTime.toUTC().toISO();this.query.start=n,this.query.end=o},applyFilter:function(t){t&&t.data&&!t.data.show?(t.data.keyWordFilter&&(this.query.keyWordFilter=t.data.keyWordFilter),t.data.selectedAgendaItem&&(this.query.selectedAgendaItem=t.data.selectedAgendaItem),t.data.selectedProgramme&&(this.query.selectedProgramme=t.data.selectedProgramme),t.data.selectedStream&&(this.query.selectedStream=t.data.selectedStream)):this.query={};this.query.locale||(this.query.locale=this.options.locale||this.$i18n.locale);this.getEvents(this.queryObject)}},mounted:function(){f.$on("showFilter",this.applyFilter)},created:function(){this.$route.query&&this.$route.query.selected?this.$route.query.selected&&(this.iterationsService=this.setIterationsService(this.$i18n,this.$route.query.selected)):this.$router.replace({query:{selected:r.DateTime.local().toFormat("yyyy-MM-dd")}}),this.setQueryString(0),this.getEvents()},beforeCreate:function(){if(!this.$i18n)throw new Error("$i18n must be installed");if(this.$i18n)for(var t in mt){var e=this.$i18n.getLocaleMessage(t);this.$i18n.setLocaleMessage(t,Object.assign(e,mt[t]))}}},pt=(n(319),n(321));function gt(){return(gt=Object(o.a)(regeneratorRuntime.mark(function t(e){var n,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.conference||(e.conference=this.conference._id),n={},o=yt(e),t.next=5,this.$axios.get(o);case 5:return r=t.sent,n.raw=_t(r.data.response.docs),n.days=wt(n.raw),n.weeks=bt(n.days),t.abrupt("return",n);case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function yt(t){var e="".concat("https://api.cbd.int","/api/v2013/index/select"),n=function(t){var e=t.locale.toUpperCase()||"EN";return"identifier_s,conference_s,timezone_s,start_dt,end_dt,itemShowFiles_ss,itemFiles_ss,itemText_ss,item_ss,itemMeeting_ss,stream_ss,organizers_ss,organizer_s,organizerEmail_s,roomTitle_s,roomLocation_s,roomLocalName_s,"+"description_".concat(e,"_t,title_").concat(e,"_t,")+"createdBy_s,createdByEmail_s,createdDate_dt,modifiedBy_s,modifiedByEmail_s,updatedDate_dt"}(t),q=this.genQuery(t);return"".concat(e,"?fl=").concat(n,"&q=").concat(q,"&sort=start_dt+DESC&start=0&wt=json&rows=300")}function _t(t){for(var i=0;i<t.length;i++)for(var e in t[i]){var n=!~e.indexOf("_"),o=e.slice(0,e.indexOf("_"));n&&(t[i][o]=t[i][e])}return t}function wt(t){for(var e={},i=t.length-1;i>=0;i--){var n=r.DateTime.fromISO(t[i].start).startOf("day"),o=r.DateTime.fromISO(t[i].start).endOf("day"),l=r.DateTime.fromISO(t[i].start);e.hasOwnProperty(n.toUTC().toISODate())||(e[n.toUTC().toISODate()]=[]),l>=n&&l<=o&&e[n.toUTC().toISODate()].push(t[i])}return e}function bt(t){var e={};for(var n in t){var o=r.DateTime.fromISO(n).toUTC().year+"-"+r.DateTime.fromISO(n).toUTC().weekNumber;e.hasOwnProperty(o)||(e[o]={}),e[o][n]=t[n]}for(var l=Object.values(e),i=0;i<l.length;i++)i>0&&(l[i].next=l[i-1]),i<l.length-1&&(l[i].prev=l[i+1]);return e}var kt={name:"Calender",mixins:[l],components:{Calendar:Object(T.a)(vt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{ref:"main"},[n("div",{class:[t.$style.calComponent]},[n("CalHeader",{attrs:{"selected-iteration":t.selectedIteration}}),t._v(" "),n("CalBody",{attrs:{"selected-iteration":t.selectedIteration,conference:t.conference,events:t.events}}),t._v(" "),n("CalFooter",{attrs:{iterations:t.iterations},on:{action:t.changeDateTime}})],1)])},[],!1,function(t){this.$style=pt.default.locals||pt.default},null,null).exports},methods:{getEvents:function(t){return gt.apply(this,arguments)},genQuery:function(t){var q="schema_s:reservation";t.conference&&(q+="+AND+conference_s:".concat(t.conference),t.start||(q+="+AND+(start_s:[ ".concat(this.conference.StartDate," TO *])")),t.end||(q+="+AND+(end_s:[ * TO ".concat(this.conference.EndDate,"])")));t.start&&(q+="+AND+(start_s:[ ".concat(t.start," TO *])"));t.end&&(q+="+AND+(end_s:[ * TO ".concat(t.end,"])"));t.selectedStream&&(q+="+AND+(stream_ss:".concat(t.selectedStream,")"));t.selectedProgramme&&(q+="+AND+(thematicAreas_ss:".concat(t.selectedProgramme,")"));t.keyWordFilter&&(q+="+AND+(text_".concat(this.$i18n.locale.toUpperCase(),'_txt:"').concat(t.keyWordFilter,'*")'));return q},getConference:function(){return this.$store.state.conferences.selected},getQueryUrl:yt},asyncData:function(t){var e=t.store;return e.commit("routes/SET_SHOW_MEETING_NAV",!1),{conference:e.state.conferences.selected}}},xt=(n(323),Object(T.a)(kt,function(){var t=this.$createElement;return(this._self._c||t)("Calendar",{staticClass:"cal",attrs:{options:{queryFn:this.getEvents,conference:this.conference,locale:this.$i18n.locale,height:"100vh"}}})},[],!1,null,null,null));e.default=xt.exports}}]);