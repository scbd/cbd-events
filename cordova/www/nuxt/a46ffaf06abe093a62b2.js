(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{251:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c});n(17),n(13),n(38);var r=n(23),o=function(a,b){if(0==a)return"0 Bytes";var e=b||2,t=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,t)).toFixed(e))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},c=function(e){return"object"===Object(r.a)(e)&&!Array.isArray(e)&&null!==e}},252:function(e,t,n){var content=n(328);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(19).default)("750a9b3b",content,!1,{sourceMap:!1})},327:function(e,t,n){"use strict";var r=n(252);n.n(r).a},328:function(e,t,n){(e.exports=n(18)(!1)).push([e.i,".point[data-v-7318576a]{font-size:.5em;vertical-align:middle}.page-view[data-v-7318576a]{margin-top:85px}.file[data-v-7318576a]{min-height:50px;cursor:pointer}.pdf[data-v-7318576a]{fill:red}.word[data-v-7318576a]{fill:#00f}.hr[data-v-7318576a]{margin:0 -15px 1em}",""])},333:function(e,t,n){"use strict";n.r(t);n(10),n(127);var r=n(2),o=(n(74),n(49),n(70)),c=n(251),l=(n(13),{resolveLocalFileSystemURL:function(e){return new Promise(function(t,n){window.resolveLocalFileSystemURL(e,function(e){return t(e)},function(e){return n(e)})})},requestFileSystem:function(e,t){return new Promise(function(n,r){window.requestFileSystem(e,t,function(e){return n(e)},function(e){return r(e)})})},getFile:function(e,path,t){return new Promise(function(n,r){e.getFile(path,t,function(e){return n(e)},function(e){return r(e)})})},write:function(e,data){return new Promise(function(t,n){e.createWriter(function(r){e||n(new Error("No fileEntry passed")),data||n(new Error("No data passed to write file ".concat(e.nativeURL))),r.onwriteend=function(){return t(e.toURL())},r.onerror=function(e){return n(e)},r.write(data)})})}});function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,rect;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveCordovaFileLocally(t);case 2:n=e.sent,rect=[0,0,innerWidth/2,0],this.$cordova.fileOpener2.showOpenWithDialog(decodeURIComponent(n),t.type,{error:function(e){console.log("Error: ",e)},rect:rect});case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function d(){return(d=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,r,o,c,f,d,v,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.$cordova.file,r=n.tempDirectory,o=n.cacheDirectory,c=t.baseName,f=t.blob,d=r||o,e.next=6,l.resolveLocalFileSystemURL(d);case 6:return v=e.sent,e.next=9,l.getFile(v,c,{create:!0,exclusive:!1});case 9:return h=e.sent,e.next=12,l.write(h,f);case 12:return e.abrupt("return",h.toURL());case 15:throw e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.t0;case 19:case"end":return e.stop()}},e,this,[[0,15]])}))).apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark(function e(t,n){var r,o,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fileOpener2,o=t.device,"iOS"!==o.platform){e.next=3;break}return e.abrupt("return",w(t,n));case 3:return e.next=5,this.saveCordovaFileLocally(n);case 5:return c=e.sent,l=h,f=m,e.abrupt("return",r.open(c,"application/pdf",{error:l,success:f}));case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function h(e){throw console.log("Error status: "+e.status+" - Error message: "+e.message),e}function m(){console.log("file opened successfully")}function w(e,t){var n,r=e.inAppBrowser,o=(n=t.blob,window.URL.createObjectURL(n,"_blank","toolbartranslucent=yes,enableViewportScale=yes,hidenavigationbuttons=yes,hidespinner=yes,location=no"));return r.open(o)}var y={name:"Downloads",methods:{isPDF:function(e){return!!~e.indexOf("application/pdf")},timeDisplay:function(e){return o.DateTime.fromISO(e).toFormat("LLL d")},formatBytes:c.a,openFile:function(e){var t=this.$cordova;return t?function(e,t){return v.apply(this,arguments)}(t,e):function(){return window&&window.navigator&&window.navigator.msSaveOrOpenBlob}()?window.navigator.msSaveOrOpenBlob(e.blob):function(){var e=~navigator.userAgent.search("Safari"),t=~navigator.userAgent.search("Chrome");return e&&t}()?this.openSafariPWA(e):function(e){var t=e.blob,n=e.baseName,data=window.URL.createObjectURL(t),link=document.createElement("a");return link.href=data,link.download=n,link.click(),setTimeout(function(){return window.URL.revokeObjectURL(data)},100)}(e)},shareFile:function(e){return f.apply(this,arguments)},saveCordovaFileLocally:function(e){return d.apply(this,arguments)},openSafariPWA:function(e){var t={conferenceCode:this.conferenceCode},n=this.localePath({name:"conferenceCode-fileView",params:t}),r=window.URL.createObjectURL(e.blob);this.$store.commit("files/SET_FILE_TO_OPEN",r),this.$router.push(n)}},computed:{files:function(){var e=this;return this.$store.state.files.data.filter(function(t){return~t.baseName.indexOf(e.meetingCode)})},meeting:function(){return this.$store.state.conferences.selectedMeeting},isIpad:function(){0;return!!window.navigator.userAgent.match(/iPad/i)}},filters:{trimName:function(e){var t=e.replace(/\.[^\/.]+$/,"");return t?t.length<30?t:"".concat(t.substr(0,13),"...").concat(t.substr(t.length-13,t.length-1)):""}},asyncData:function(e){var t=e.store,n=e.params;return t.commit("routes/SET_SHOW_MEETING_NAV",!0),{conferenceCode:n.conferenceCode,meetingCode:n.meetingCode,isIOS:!1}},created:function(){this.isIOS=!!this.$cordova}},_=(n(327),n(5)),component=Object(_.a)(y,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-view container-fluid"},[e._l(e.files,function(t,r){return n("section",{key:t.name},[n("div",{staticClass:"file"},[n("div",{staticClass:"col-xs-1 paddingless",on:{click:function(n){return e.openFile(t)}}},[e.isPDF(t.type)?e._e():n("svg",{staticClass:"icon x2 word"},[n("use",{attrs:{"xlink:href":"#icon-file-word-o"}})]),e._v(" "),e.isPDF(t.type)?n("svg",{staticClass:"icon x2 pdf"},[n("use",{attrs:{"xlink:href":"#icon-file-pdf-o"}})]):e._e()]),e._v(" "),n("div",{class:{"col-xs-10":e.isIOS&&!e.isIpad,"col-xs-11":!e.isIOS||e.isIpad},on:{click:function(n){return e.openFile(t)}}},[e._v("\n        "+e._s(e._f("trimName")(t.baseName))),n("br"),e._v("\n        "+e._s(e.timeDisplay(t.lastModified))+"\n        "),n("span",{staticClass:"point"},[e._v("●")]),e._v(" "+e._s(e.formatBytes(t.size,2))+"\n      ")]),e._v(" "),e.isIOS&&!e.isIpad?n("div",{staticClass:"col-xs-1 paddingless text-center",on:{click:function(n){return e.shareFile(t)}}},[n("svg",{staticClass:"icon x2"},[n("use",{attrs:{"xlink:href":"#icon-share-alternitive"}})])]):e._e()]),e._v(" "),r!=e.files.length-1?n("hr",{staticClass:"hr"}):e._e()])}),e._v(" "),e.files.length?e._e():n("section",[n("div",{staticClass:"text-center"},[n("br"),n("br"),n("br"),n("br"),e._v(" "),n("span",[e._v("No files downloaded for the "),n("br"),n("b",[e._v(e._s(e.meeting.title))])])])])],2)},[],!1,null,"7318576a",null);t.default=component.exports}}]);