(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{213:function(t,e,n){"use strict";(function(t){n(14),n(19),n(41);var r=n(2),o=n(324);function c(){return(c=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,o,article,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,r=e.store,o=e.params,r.commit("routes/SET_SHOW_MEETING_NAV",!1),t.next=4,d(n.$axios,r.state.conferences.selected.code);case 4:return article=t.sent[0],c=r.state.conferences.selected.conference.cbdMeet,t.abrupt("return",{conferenceCode:o.conferenceCode,conference:c,article:article,title:article.title});case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function d(t,code){return t.$get("".concat(void 0,"/api/v2017/articles"),{params:l(code)})}function l(code){var t=[],e=[];e[0]=encodeURIComponent("cbd-events"),e[1]=encodeURIComponent(code);var n={"adminTags.title.en":{$all:e}};return t.push({$match:n}),t.push({$project:{title:1,summary:1,content:1,coverImage:1}}),t.push({$sort:{"meta.updatedOn":-1}}),t.push({$limit:1}),{ag:JSON.stringify(t)}}e.a={name:"index",components:{overview:o.a},methods:{getHeroImage:function(){return!(!this.conference||!this.conference.heroImage)&&(t.env.PROXY_ENABLED?this.conference.heroImage.replace(void 0,"/images"):this.conference.heroImage)},loadArticle:d,getQuery:l,languageInit:function(){if(!this.isLanguageInitilized())return;var t=this.getLanguageInitParams(),e=t.locale,n=t.prevLocale,r=this.$route.name.replace("___".concat(e),"___".concat(n));this.$i18n.locale=n,this.$store.commit("routes/I18N_INIT",!0),this.$store.commit("i18n/I18N_SET_LOCALE",n),this.switchLocalePath(n),this.$forceUpdate(),this.$router.replace({name:r,params:this.$route.params})},getLanguageInitParams:function(){var t=this.$store.state.routes,e=t.prevRoute,n=t.initalized,r=this.$store.state.i18n,o=r.locale,c=r.prevLocale,d=this.$route.params;return{prevRoute:e,initalized:n,locale:o,prevLocale:c,conferenceCode:d}},isLanguageInitilized:function(){var t=this.getLanguageInitParams(),e=t.prevRoute,n=t.initalized,r=t.locale,o=t.prevLocale,c=t.conferenceCode,d=e.fullPath==="/".concat(c),l=r===o;return!(d&&l&&!n)}},asyncData:function(t){return c.apply(this,arguments)}}}).call(this,n(84))},214:function(t,e,n){var content=n(253);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("2ebc2430",content,!1,{sourceMap:!1})},215:function(t,e,n){var content=n(255);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(17).default)("7187e91e",content,!1,{sourceMap:!1})},252:function(t,e,n){"use strict";var r=n(214);n.n(r).a},253:function(t,e,n){(t.exports=n(16)(!1)).push([t.i,".pointer[data-v-11400560]{cursor:pointer;pointer-events:all}.stream[data-v-11400560]{padding:1em 0}.bm[data-v-11400560]{margin-bottom:.7em}.on[data-v-11400560]{background:#f2f1ef}.cont[data-v-11400560]{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:270%}.top[data-v-11400560]{margin-bottom:.25em}.debugB[data-v-11400560]{border:1px solid #00f;width:100%;overflow-x:scroll}.scroll[data-v-11400560]{width:100%;overflow-x:auto}.debug[data-v-11400560]{border:1px solid red}.off[data-v-11400560]{margin-left:-.3em}.day-col-day-w[data-v-11400560]{background:#d2d7d3;text-align:center;border-right:1px solid #fff}.day-col[data-v-11400560]{width:100%;position:relative}.day-col-day[data-v-11400560]{background:#95a5a6;color:#fff;text-align:center;font-weight:700;border-right:1px solid #fff}.event-cont[data-v-11400560]{position:relative;width:100%;padding:.5em 0 1em;font-size:1.2em;z-index:10;font-weight:700;pointer-events:none}.event[data-v-11400560]{position:absolute;color:#fff;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:.6em;text-align:center;border-left:1px solid #fff;border-right:1px solid #fff;max-height:60px;z-index:100;line-height:1.2em;padding:.2em 0 .2em .1em}@media (min-width:768px){.cont[data-v-11400560]{width:150%}}@media (min-width:992px){.cont[data-v-11400560]{width:135%}}",""])},254:function(t,e,n){"use strict";var r=n(215);n.n(r).a},255:function(t,e,n){(t.exports=n(16)(!1)).push([t.i,".home[data-v-0366edcf]{padding-bottom:3em}.hero[data-v-0366edcf]{align-self:start;width:95vw}",""])},324:function(t,e,n){"use strict";n(14);var r=n(2),o=n(62),c=n(82),d=n.n(c);var l={params:{f:{"apps.conferenceCal":1},fo:1}};function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function t(){var code,e,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://api.cbd.int/api/v2016/conferences/",code=this.code,l.params.q={code:code},t.next=5,d.a.get("https://api.cbd.int/api/v2016/conferences/",l);case 5:if(e=t.sent,(data=e.data).apps){t.next=9;break}throw new Error("No conference found");case 9:return t.abrupt("return",data.apps);case 10:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n,r,c,d,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queryConference();case 2:if(e=t.sent,n=e.conferenceCal){t.next=6;break}throw new Error("No app data found: apps.conferenceCal");case 6:return r=n.streams,c=n.events,d=n.start,l=n.end,this.start=o.DateTime.fromISO(d),this.end=o.DateTime.fromISO(l),this.streams=r,this.events=c,this.loadEvents(this.events),t.abrupt("return",this.events);case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var h={name:"ConferenceCal",props:["code","options"],methods:{getEvents:function(t){var e=this,n=t.day,r=t.stream;return this.events&&this.events.length?this.events.map(function(t){return t.isEventStart=e.isEventStart(n,t,r),t}):[]},isEventStart:function(t,e,n){return t.date.day===e.start.day&&e.stream===n},isEventOn:function(t,e,n){return t.date.day>e.start.day&&t.date.day<=e.end.day&&e.stream===n},showDetails:function(t){this.ifLink(t)&&!t.code||this.options&&"_blank"===this.options.target?window.open(this.ifLink(t),"_blank"):window.location=this.ifLink(t)},setState:function(){return v.apply(this,arguments)},loadEvents:function(t){if(!t)return;for(var i=0;i<t.length;i++)t[i].end=o.DateTime.fromISO(t[i].end),t[i].start=o.DateTime.fromISO(t[i].start),t[i].length=(t[i].end.diff(t[i].start,"days").toObject().days||0)+1},ifLink:function(t){return t.url?t.url:!!t.code&&"https://www.cbd.int/conferences/".concat(this.code,"/parallel-meetings/").concat(t.code)},onHover:function(){window.document.body.style.cursor="pointer"},queryConference:function(){return f.apply(this,arguments)}},computed:{getDays:function(){if(!this.start)return;for(var t=this.end.diff(this.start,"days").toObject().days,i=0;i<t;i++){var e=this.start.plus({days:i}).startOf("day"),n={day:e.day,dayOfWeek:e.setLocale(this.locale).toFormat("ccc"),date:e};this.days["d"+e.toFormat("yyyyMMdd")]=n}return this.days},getColWidth:function(){var t=this;return function(e){if(t.$refs["d"+e.start.toFormat("yyyyMMdd")])return t.$refs["d"+e.start.toFormat("yyyyMMdd")][0].clientWidth*e.length}}},data:function(){return this.setState(),{local:"en",days:{},start:"",end:"",streams:[],events:[]}},mounted:function(){var t=this;this.$watch("events",function(){return t.$forceUpdate()})}},m=(n(252),n(5)),component=Object(m.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"scroll"},[n("div",{staticClass:"cont top"},t._l(t.getDays,function(e,r){return n("div",{key:r,ref:r,refInFor:!0,staticClass:"day-col"},[n("div",{staticClass:"day-col-day"},[t._v(t._s(e.day))]),t._v(" "),n("div",{staticClass:"day-col-day-w"},[t._v(t._s(e.dayOfWeek))])])}),0),t._v(" "),t._l(t.streams,function(e,i){return n("div",{key:i,staticClass:"cont off"},[t._v(" Â \n      "),t._l(t.getDays,function(r,o,c){return n("div",{key:c,ref:"d"+o,refInFor:!0,staticClass:"day-col",class:{on:c%2}},t._l(t.getEvents({day:r,stream:e}),function(o,c){return n("section",{key:c},[o.isEventStart?n("div",{staticClass:"event-cont",class:{bm:!t.isEventOn(r,o,e)}},[n("div",{staticClass:"event",class:{pointer:t.ifLink(o)},style:{"background-color":o.color,width:t.getColWidth(o)+"px"},on:{click:function(e){return t.showDetails(o)}}},[n("span",[t._v(t._s(o.titleMobile||o.title))])])]):t.isEventOn(r,o,e)?n("div",{staticClass:"event-cont"},[t._v("Â ")]):t._e()])}),0)})],2)})],2)])},[],!1,null,"11400560",null);e.a=component.exports},333:function(t,e,n){"use strict";n.r(e);var r=n(213).a,o=(n(254),n(5)),component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid home"},[t.getHeroImage(t.conference)?n("img",{staticClass:"hero",attrs:{crossorigin:"anonymous",src:t.getHeroImage(t.conference),alt:t.conference.title[t.$i18n.locale]+" logo"}}):t._e(),t._v(" "),n("span",{domProps:{innerHTML:t._s(this.$options.filters.lstring(t.article.content))}}),t._v(" "),n("h3",[t._v("Overview")]),t._v("\n  "+t._s(t.conferenceCode)+"\n  "),n("overview",{attrs:{code:t.conferenceCode,options:{target:"_blank"}}})],1)},[],!1,null,"0366edcf",null);e.default=component.exports}}]);